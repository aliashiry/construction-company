<div class="upload-page-wrapper">
  <div class="upload-form-full-page">
    <div class="form-container">
      <div class="form-header">
        <h1>Upload <span class="highlight">Project Files</span></h1>
        <p>Share your DXF/DWG files with our engineering team</p>
      </div>

      <div class="form-body">
        <!-- Loading Message -->
        <div *ngIf="isLoading" class="alert alert-info">
          <div class="loading-inline">
            <div class="spinner-small"></div>
            <span>{{ successMessage || 'Uploading file, please wait...' }}</span>
          </div>
        </div>

        <!-- Error Messages -->
        <div *ngIf="errorMessage && !isLoading" class="alert alert-error">
          {{ errorMessage }}
        </div>

        <!-- Success Messages -->
        <div *ngIf="successMessage && !isLoading" class="alert alert-success">
          {{ successMessage }}
        </div>

        <form id="uploadForm" (submit)="onSubmit($event)">
          <!-- Project Name -->
          <div class="form-group">
            <label for="projectName">
              Project Name
              <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="projectName" 
              name="projectName" 
              class="form-control"
              [(ngModel)]="fileStorage.ProjectName" 
              placeholder="Enter your project name" 
              required
              [disabled]="isLoading"
            >
          </div>

          <!-- File Name -->
          <div class="form-group">
            <label for="fileName">
              File Name
              <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="fileName" 
              name="fileName" 
              class="form-control" 
              [(ngModel)]="selectedFileName" 
              placeholder="Enter file name or it will be auto-filled"
              [disabled]="isLoading"
            >
            <small class="help-text">You can edit the file name before sending</small>
          </div>

          <!-- File Upload -->
          <div class="form-group">
            <label>
              Upload File
              <span class="required">*</span>
            </label>
            <div class="file-upload-wrapper" [class.has-file]="fileStorage.InputFileData" [class.disabled]="isLoading">
              <input 
                type="file" 
                id="fileInput" 
                class="file-upload-input" 
                accept=".dxf,.dwg"
                (change)="onFileSelected($event)"
                [disabled]="isLoading"
              >
              <div class="file-upload-icon">üìÅ</div>
              <div class="file-upload-text">
                <strong>Click to upload</strong> or drag and drop<br>
                <small>DXF or DWG files only</small>
              </div>
            </div>

            <!-- Show current file -->
            <div *ngIf="fileStorage.InputFileData" class="file-info">
              <div class="file-name">
                <span class="file-icon">üìÑ</span>
                {{ fileStorage.FileName }}
              </div>
              <button 
                type="button" 
                class="btn-remove" 
                (click)="removeFile()"
                [disabled]="isLoading"
              >
                Remove
              </button>
            </div>

            <div class="help-text">Maximum file size: 50MB</div>
          </div>

          <!-- Notes -->
          <div class="form-group">
            <label for="notes">Notes (Optional)</label>
            <textarea 
              id="notes" 
              name="notes" 
              class="form-control"
              [(ngModel)]="fileStorage.Notes" 
              placeholder="Add any additional notes or requirements..."
              [disabled]="isLoading"
            ></textarea>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="btn-submit" 
            id="submitBtn" 
            [disabled]="isUploading || isLoading"
          >
            {{ isLoading ? 'Uploading...' : 'Upload Project Files' }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>